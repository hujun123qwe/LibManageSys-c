# 问题汇总
 
* 三个文件，分别是图书、管理员、会员，将本身固有的属性定义为结构体，并封装常用操作
* 写了三个头文件，要实例化就要在结构体里面做一下初始化，使用_admin(){} 
* 把借书看成一个功能，借书功能，然后封装成一个结构体 
* 一个错误，不要包含c文件到main会重复编译报错，应该包含h头文件[http://www.cnblogs.com/infiniti/archive/2013/03/19/2968689.html]
* 设计一个日志机制，每次操作都有记录！每次操作调用日志记录函数！ 
* 报错多次定义函数，应为h文件被多次包含了，所以要定义一下GLOBAL_H宏定义，第一次用呵呵
* 直接设计log.c对应的头文件log.h里面只放函数声明，然后log.c不引用任何头文件，在main中引用头文件即可使用log.c
* 文件记录有问题，每次都会重写覆盖内容。使用time，localtime，结构体tm，strftime搞定 
* 使用指针传递调用函数时，要先对指针分配内存，不然报错
* menu作为界面处理文件，只负责处理界面的输入以及相应业务，show文件负责显示界面给用户看，反馈还要回到menu做处理
* 有个show_info函数，我要显示int *或char *怎么办，有什么办法可以让函数识别两个参数？
* 文件操作模块没法设计，返回一个FILE指针，还是什么指针？
* 报错[Error] void value not ignored as it ought to be 原因是c文件返回int，但h文件返回了void，系统先认h文件的
* 在使用strcat函数时如果目标string是字符指针型会报错，要改为字符数组型
* 用python习惯了，一定分清单引号还是双引号，当字符串做 参数时，C在运行时才报错，'w+'  --> "w+"
* user_login_in中路径字符串在函数跳转是出错， fscanf不要用%s,%s这样去读取文件，要用空格隔开
* 菜单功能分配是用switch语句写死的，想加个注册选项，需要把case编号都改了，有什么办法可以更高效
* 过一段时间没有写代码，框架就乱了，很乱，起的名字要在脑中反应一段时间才知道什么作用，赶紧画思维导图
* 将菜单封装成字符二维数组OK，使用循环输出菜单
* 只能定义数组，不能定义指针，不然没法strcat
* strcat的目标string要是数组, 不能是指针 
* 解决了！使用sprintf函数实现java的string+方式
* 编写菜单时，menu_user_center既是函数名有时数组名，就冲突了！
* 使用飞碟模式命名，前是文件menu模块，然后是功能user等，用下划线连接 
* 菜单switch-case写法感觉很蠢呀，为什么不当变量来用？使用指针或者全局变量数组，或者直接case具体字段？ 
* 函数之间传递字符串参数时，一定要用字符指针形式，不能字符数组（因为作用域，函数over后，数组也over）
* 在设计上是MVC模式？C控制所有吗所有线头都引到C这里交汇，还是可以在M中交汇？
* 对字符串split函数，先写在book模块中了，以后抽出来凑成common模块
* 设计split函数时，遇到了字符串空间问题
* 第一次，使用字符指针，边复制边后移，然后atoi转int，但是，因为指针的游动，导致atoi必为乱码，要从新定一个游标卡尺
* 第二次，使用了游标卡尺新的指针，然后加入\0后缀，还是不行，因为分配的指针在堆中，没法游动，所以改成字符数组了
* menu， book， file模块这几个交互写的很乱
* 对图书检索失败，没有任何结果，C在做项目时，人很容易犯错，而且编译器没有任何警告
* 在存储book时，用简单的文本方式存储，然后用fscanf取很麻烦，无法避免单词之间的空格，改为fgets看看
* 在搜索借阅书时，用很笨的二重循环，我想需要先对书编号进行排序，然后用单循环来解决，一边对应书号，一边自加
* 在file_get_book_info函数中，直接使用fgets读一行，然后使用指针以空格为单位截取两份字符串，思路很好
* 浪费了半个小时一直排除错误，做加法，打断点输出，做减法去函数调用，然后怎么都不行了，一直返回指针错误
* 然后在成功与失败之间，就加了个fgets，想想应该是这个错误，文件怎么都无法关闭，改掉后就正常了
* char *fgets(char *str, int n, FILE *stream)[https://www.tutorialspoint.com/c_standard_library/c_function_fgets.htm]
* 根据fgets停止的条件，要么到行尾遇到换行，要么够n长度就停止
* 然后我就试了一下n，发现n=24没问题，n>=25就报错，为什么会是24？，后来发现是这样声明的char *book_info = ( char * )malloc( sizeof( char ) )
* 在给book_info分配动态内存时，没有指定大小直接给了默认值，应该sizeof(char)*80,所以出现内存错误!!!
* 字符串替换char *strstr(const char *haystack, const char *needle) 找到第一次出现的字符串
* 修改文件一定要用a+,不能用w+,或w,不然文件内容全丢失 
* char *strtok(char *str, const char *delim),直接用token分解str,使用while的结果
* 参数是char *_DstBuf, 给的是字符指针报错,给字符数组可以 
* 覆盖文件有 很大问题,源文件没法从新改写,指针没法定位?
* 为什么fputs输入文件没有反应?,不是没反应是while中的fscanf无法取到值,文件缓存没写入,导致错误
* 这个fscanf要换掉, 使用fgets得到整行,但是这个fgets函数也是停留在这一行出,有什么可以直接定位到行开头,这样直接写入整行信息
* 声明的字符串数组如何清空内部数据,不然strcat会有乱码, 直接tmp[0] = '\0',就找string自身属性截断处 
* 文件写入如果用a+,不管fseek如何,都会在文件最后追加,要用r+
* 使用fseek写入OK了,但如何将写入的后面都覆盖掉?, 有没有判断回车换行的标志?
* 一开始用fgets一直有问题,后改为使用字符数组将tmp的\0后移.
* C语言开发以后精细化,每天2小时开发 
